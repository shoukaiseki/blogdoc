# xphp.exe源码  


1 /*  2 */  3 #include <stdlib.h>  4 #include <math.h>  5 #include "stdio.h"  6 #include "conio.h"  7 unsigned long fun();//事先声明fun函数的返回值类型,不然会按系统默认的数据类型返回  8 main()  9 { 10     char a[100]; 11     int  i; 12     unsigned long d,e=0xFFFFFFFF;//d保存前16位? 13     //printf("%lx",e); 14     printf("Hello,welcome to PC!\n"); 15     printf("Please enter the calculation of the angle:"); 16     enterc(a); 17     atooA(a); 18     for(i=0;a[i]!='\n';i++) 19     { 20         printf("%c",a[i]); 21     } 22     d=fun(a); //asus();// 23     //d=0x3FFFFFFF;// 24     printf("\nResults Decimal is :%lu",d); 25     printf("\nResults hex(no 0x) is :%08lx",d); 26     printf("\nResults hex is :0x%08lx",d); 27     printf("\nGood bye!\nPress any key to off exit!"); 28     getch(); 29     return(0); 30 } 31 enterc(char *p) 32 { 33     int i=0; 34     p[i]=getchar(); 35     for(;p[i]!='\n';) 36     { 37         i++; 38         p[i]=getchar(); 39     } 40     p[i]='\n'; 41     return; 42 } 43 atooA(char *p) 44 { 45     int i; 46     for(i=0;p[i]!='\n';i++) 47     { 48         if(p[i]>96&&p[i]<123)//也可以写成if(p[i]>='a'&&p[i]<='z') 49             p[i]-=32; 50      } 51 } 52 unsigned long int  fun(char *p) 53 { 54     unsigned long int n,nidrives=0; 55     unsigned long int  i,a,j; 56     for(i=0;p[i]!='\n';i++) 57     { 58         if(p[i]>='A'&&p[i]<='Z') 59             //printf("asus\t"); 60             a=p[i]-64;//结果计算2的几次方 61             n=1; 62             for(j=1;j<a;j++) 63                 n*=2; 64             //printf("n=%d",n); 65             nidrives|=n; 66             //printf("\tnidrives=%d\n",nidrives); 67      } 68      //printf("\nnidrives is :%08lx",nidrives); 69      return nidrives; 70      //return (0x12345678); 71 } 72 asus(){return (0x12345678);} 73 /* 74 碰到问题:   for(i=0;p[i]!='\n';i++)中的'\n'的n后面多加了个空格('\n '),进入死循环 75 十六进制输出0填充问题,原先printf("\nResults hex is :0x%8lx",d);前面空格填充了, 76 加个0就好了(%08lx) 77 输出无printf("%x",0xFFFFFFFF);结果是FFFF,加个l("%lx") 就好了 78 fun(char *p)的返回值没有32位(最大值返回16位),但是在return nidrives;前面输出地正常 79 在24行前加个d=0x3FFFFFFF;能成功输出 80 原因是加了第7行就问题解决了 81 */

好像163的博客行数多了就自动删除回车了

换行方式请查阅

http://hi.baidu.com/jiangxinyi21/blog/item/02af0477f53d091328388acb.html
