<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>蒋カイセキ 的博客</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">蒋カイセキ 的博客</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">ORACLE无法插入修改数据</h2>
	<h5 id="">2011-12-05 23:52:57&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/shoukaiseki/blog/static/1928561492011115115257657/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><span style="background-color: rgb(239, 239, 239);"  ><div id=""  style="line-height: 25px; font-family: Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace; font-size: 12px; background-color: transparent; width: 766px; overflow-x: auto; overflow-y: auto; margin-left: 9px; padding-top: 1px; padding-right: 1px; padding-bottom: 1px; padding-left: 1px; word-break: break-all; word-wrap: break-word;"  ><div><div style="padding-top: 3px; padding-right: 3px; padding-bottom: 3px; padding-left: 3px; text-align: left; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; color: black; font-weight: bold;"  >Java代码&nbsp;<embed height="15" pluginspage="http://www.macromedia.com/go/getflashplayer" allowNetworking="internal" flashvars="clipboard=ora-29861%3A%E5%9F%9F%E7%B4%A2%E5%BC%95%E6%A0%87%E8%AE%B0%E4%B8%BAloading%2Ffailed%2Funusable" width="14" allowScriptAccess="never" quality="high" invokeurls="false" src="http://www.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" wmode="transparent"  >&nbsp;<a title="&#25910;&#34255;&#36825;&#27573;&#20195;&#30721;" style="color: rgb(0, 102, 153); text-decoration: underline; " rel="nofollow" href="http://www.iteye.com/topic/343060"  ><img title="ORACLE无法插入表 - Linux Fedora 15 - 蒋カイセキ的博客"  src="http://www.iteye.com/images/icon_star.png"  alt="收藏代码"  style="border-style: initial; border-color: initial;"  ></a></div></div><ol start="1"  style="font-size: 1em; line-height: 1.4em; margin-top: 0px; margin-bottom: 1px; margin-left: 0px; padding-top: 2px; padding-bottom: 2px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(209, 215, 220); border-right-color: rgb(209, 215, 220); border-bottom-color: rgb(209, 215, 220); border-left-color: rgb(209, 215, 220); list-style-type: decimal; list-style-position: initial; list-style-image: initial; background-color: rgb(255, 255, 255); color: rgb(43, 145, 175);"  ><li style="font-size: 1em; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 38px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 10px; border-left-width: 1px; border-left-style: solid; border-left-color: rgb(209, 215, 220); background-color: rgb(250, 250, 250); line-height: 18px;"  ><span style="color: black;"  ><span style="color: black;"  >ora-</span><span style="color: rgb(192, 0, 0);"  >29861</span><span style="color: black;"  >:域索引标记为loading/failed/unusable&nbsp;&nbsp;</span></span></li></ol></div><p style="font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; margin-top: 0px; margin-bottom: 0px;"  >&nbsp;网上多数解释是说这个索引有问题了，但是这个索引根本没有问题，同步和重建这个索引都不能解决这个问题，知道我看到有人说是采用这样的方法查看索引的状态</p><div id=""  style="line-height: 25px; font-family: Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace; font-size: 12px; background-color: transparent; width: 766px; overflow-x: auto; overflow-y: auto; margin-left: 9px; padding-top: 1px; padding-right: 1px; padding-bottom: 1px; padding-left: 1px; word-break: break-all; word-wrap: break-word;"  ><div><div style="padding-top: 3px; padding-right: 3px; padding-bottom: 3px; padding-left: 3px; text-align: left; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; color: black; font-weight: bold;"  >Sql代码&nbsp;<embed height="15" pluginspage="http://www.macromedia.com/go/getflashplayer" allowNetworking="internal" flashvars="clipboard=select%20*%20from%20sys.all_indexes%20t%20where%20t.owner%3D'CTXSYS'%20AND%20T.INDEX_TYPE%3D'DOMAIN'%3B" width="14" allowScriptAccess="never" quality="high" invokeurls="false" src="http://www.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" wmode="transparent"  >&nbsp;<a title="&#25910;&#34255;&#36825;&#27573;&#20195;&#30721;" style="color: rgb(0, 102, 153); text-decoration: underline; " rel="nofollow" href="http://www.iteye.com/topic/343060"  ><img title="ORACLE无法插入表 - Linux Fedora 15 - 蒋カイセキ的博客"  src="http://www.iteye.com/images/icon_star.png"  alt="收藏代码"  style="border-style: initial; border-color: initial;"  ></a></div></div><ol start="1"  style="font-size: 1em; line-height: 1.4em; margin-top: 0px; margin-bottom: 1px; margin-left: 0px; padding-top: 2px; padding-bottom: 2px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(209, 215, 220); border-right-color: rgb(209, 215, 220); border-bottom-color: rgb(209, 215, 220); border-left-color: rgb(209, 215, 220); list-style-type: decimal; list-style-position: initial; list-style-image: initial; background-color: rgb(255, 255, 255); color: rgb(43, 145, 175);"  ><li style="font-size: 1em; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 38px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 10px; border-left-width: 1px; border-left-style: solid; border-left-color: rgb(209, 215, 220); background-color: rgb(250, 250, 250); line-height: 18px;"  ><span style="color: black;"  ><span style="color: rgb(127, 0, 85); font-weight: bold;"  >select</span><span style="color: black;"  >&nbsp;*&nbsp;</span><span style="color: rgb(127, 0, 85); font-weight: bold;"  >from</span><span style="color: black;"  >&nbsp;sys.all_indexes&nbsp;t&nbsp;</span><span style="color: rgb(127, 0, 85); font-weight: bold;"  >where</span><span style="color: black;"  >&nbsp;t.owner=</span><span style="color: blue;"  >'CTXSYS'</span><span style="color: black;"  >&nbsp;</span><span style="color: rgb(128, 128, 128);"  >AND</span><span style="color: black;"  >&nbsp;T.INDEX_TYPE=</span><span style="color: blue;"  >'DOMAIN'</span><span style="color: black;"  >;&nbsp;&nbsp;</span></span></li></ol></div><div id=""  style="line-height: 25px; font-family: Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace; font-size: 12px; background-color: transparent; width: 766px; overflow-x: auto; overflow-y: auto; margin-left: 9px; padding-top: 1px; padding-right: 1px; padding-bottom: 1px; padding-left: 1px; word-break: break-all; word-wrap: break-word;"  ><div><div style="padding-top: 3px; padding-right: 3px; padding-bottom: 3px; padding-left: 3px; text-align: left; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; color: black; font-weight: bold;"  >Sql代码&nbsp;<embed height="15" pluginspage="http://www.macromedia.com/go/getflashplayer" allowNetworking="internal" flashvars="clipboard=select%20owner%2Cindex_name%20from%20all_indexes%20where%20domidx_status%20!%3D%20'VALID'%20or%20domidx_opstatus%20!%3D'VALID'%3B" width="14" allowScriptAccess="never" quality="high" invokeurls="false" src="http://www.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" type="application/x-shockwave-flash" wmode="transparent"  >&nbsp;<a title="&#25910;&#34255;&#36825;&#27573;&#20195;&#30721;" style="color: rgb(0, 102, 153); text-decoration: underline; " rel="nofollow" href="http://www.iteye.com/topic/343060"  ><img title="ORACLE无法插入表 - Linux Fedora 15 - 蒋カイセキ的博客"  src="http://www.iteye.com/images/icon_star.png"  alt="收藏代码"  style="border-style: initial; border-color: initial;"  ></a></div></div><ol start="1"  style="font-size: 1em; line-height: 1.4em; margin-top: 0px; margin-bottom: 1px; margin-left: 0px; padding-top: 2px; padding-bottom: 2px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(209, 215, 220); border-right-color: rgb(209, 215, 220); border-bottom-color: rgb(209, 215, 220); border-left-color: rgb(209, 215, 220); list-style-type: decimal; list-style-position: initial; list-style-image: initial; background-color: rgb(255, 255, 255); color: rgb(43, 145, 175);"  ><li style="font-size: 1em; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 38px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 10px; border-left-width: 1px; border-left-style: solid; border-left-color: rgb(209, 215, 220); background-color: rgb(250, 250, 250); line-height: 18px;"  ><span style="color: black;"  ><span style="color: rgb(127, 0, 85); font-weight: bold;"  >select</span><span style="color: black;"  >&nbsp;owner,index_name&nbsp;</span><span style="color: rgb(127, 0, 85); font-weight: bold;"  >from</span><span style="color: black;"  >&nbsp;all_indexes&nbsp;</span><span style="color: rgb(127, 0, 85); font-weight: bold;"  >where</span><span style="color: black;"  >&nbsp;domidx_status&nbsp;!=&nbsp;</span><span style="color: blue;"  >'VALID'</span><span style="color: black;"  >&nbsp;</span><span style="color: rgb(128, 128, 128);"  >or</span><span style="color: black;"  >&nbsp;domidx_opstatus&nbsp;!=</span><span style="color: blue;"  >'VALID'</span><span style="color: black;"  >;&nbsp;&nbsp;</span></span></li></ol></div><p style="font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; margin-top: 0px; margin-bottom: 0px;"  >&nbsp;无法插入表</p><p style="margin-top: 0px; margin-bottom: 0px;"  ></p><p style="margin-top: 0px; margin-bottom: 0px;"  ><font face="Helvetica, Tahoma, Arial, sans-serif"  >select * from sys.all_indexes t where t.owner='MAXIMO' AND T.INDEX_TYPE='DOMAIN' AND TABLE_NAME='HAZARD';</font></p><p style="margin-top: 0px; margin-bottom: 0px;"  ><font face="Helvetica, Tahoma, Arial, sans-serif"  >--用户名(OWNER)=MAXIMO,表名(TABLE_NAME)=HAZARD,索引类型(INDEX_TYPE)=DOMAIN</font></p><p style="margin-top: 0px; margin-bottom: 0px;"  ><font face="Helvetica, Tahoma, Arial, sans-serif"  >select owner,index_name from all_indexes where domidx_status != 'VALID' or domidx_opstatus !='VALID';</font></p><p style="margin-top: 0px; margin-bottom: 0px;"  ><font face="Helvetica, Tahoma, Arial, sans-serif"  >--VALID为该索引不可用的意思</font></p></span><span style="font-family: Helvetica, Tahoma, Arial, sans-serif; background-color: rgb(239, 239, 239);"  >可以使用</span><span style="background-color: rgb(239, 239, 239);"  >&nbsp;</span><span style="background-color: rgb(239, 239, 239);"  ><span style="font-family: Helvetica, Tahoma, Arial, sans-serif;"  >DROP INDEX HAZARD_NDX2 删除索引名,然后再重建索引,</span><span style="font-family: Helvetica, Tahoma, Arial, sans-serif;"  >HAZARD_NDX2&nbsp;是索引名</span><p style="margin-top: 0px; margin-bottom: 0px;"  ><font face="Helvetica, Tahoma, Arial, sans-serif"  ><br></font></p></span><wbr><span style="color: rgb(68, 68, 68); font-family: Tahoma, 'Microsoft Yahei', Simsun; line-height: 21px;"  >oracle的索引</span><span style="color: rgb(68, 68, 68); font-family: Tahoma, 'Microsoft Yahei', Simsun; line-height: 21px;"  ><font face="Verdana"  style="word-wrap: break-word;"  >逻辑上：<br style="word-wrap: break-word;"  >Single column&nbsp; &nbsp;单行索引<br style="word-wrap: break-word;"  >Concatenated&nbsp; &nbsp;&nbsp;&nbsp;多行索引<br style="word-wrap: break-word;"  >Unique&nbsp; &nbsp; 唯一索引<br style="word-wrap: break-word;"  >NonUnique&nbsp; &nbsp; 非唯一索引<br style="word-wrap: break-word;"  >Function-based&nbsp; &nbsp;函数索引<br style="word-wrap: break-word;"  >Domain&nbsp; &nbsp; 域索引</font><br style="word-wrap: break-word;"  ><font face="Verdana"  style="word-wrap: break-word;"  ></font><br style="word-wrap: break-word;"  ><font face="Verdana"  style="word-wrap: break-word;"  >物理上：<br style="word-wrap: break-word;"  >Partitioned 分区索引<br style="word-wrap: break-word;"  >NonPartitioned 非分区索引</font><br style="word-wrap: break-word;"  ><font face="Verdana"  style="word-wrap: break-word;"  ><br style="word-wrap: break-word;"  >B-tree：<br style="word-wrap: break-word;"  >Normal 正常型B树<br style="word-wrap: break-word;"  >Rever Key 反转型B树&nbsp;<br style="word-wrap: break-word;"  >Bitmap 位图索引</font></span></div>
	</div>
</div>
</body>
</html>