<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>蒋カイセキ 的博客</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">蒋カイセキ 的博客</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">maximo 配库之后启动错误</h2>
	<h5 id="">2016-03-03 23:05:24&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/shoukaiseki/blog/static/19285614920162311113810/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>这个问题是使用一种第三方的迁移工具迁移视图导致的,因为迁移工具不会插入&nbsp;MAXVIEW,MAXVIEWCFG,MAXVIEWCOLUMN,MAXVIEWCOLUMNCFG 这4张表的数据</div><div><br></div><div>执行以下语句</div><div><pre class="prettyprint"   ><p>select * from maxobject  where isview=1;<br><br>select * from MAXVIEW<br></p><div><br></div></pre><div>比较两个结果集的行数是否一致,如果MAXOBJECT有的,而MAXVIEW没有,则启动MAXIMO应用将会报以下错误,因为获取mbosetinfo时,获取的数据将于&nbsp;<span style="line-height: 28px;"   >MAXVIEW,MAXVIEWCFG,MAXVIEWCOLUMN,MAXVIEWCOLUMNCFG 4张表有关,获取不到就会出错,</span></div></div><div><span style="line-height: 28px;"   ><br></span></div><div>将这几张表的数据也迁移过来,如果视图无法正常查看,则需要修改视图对应的maxobject标志位,使其在配库的时候重建视图即可</div><div><span style="line-height: 28px;"   ><br></span></div><div><br></div><div><pre class="prettyprint"   ><p>03 三月 2016 21:51:50:010 [INFO] BMXAA6390I - Database driver: Oracle JDBC driver<br>03 三月 2016 21:51:50:010 [INFO] BMXAA6391I - Database driver version: 12.1.0.2.0<br>03 三月 2016 21:51:50:306 [INFO] Connection pool initialized with 8 free connections.<br>03 三月 2016 21:51:50:322 [INFO] BMXAA6453I - The server is connecting to database version: V7600-218<br>03 三月 2016 21:51:55:470 [ERROR] system#major<br>psdi.util.MXSystemException: system#major<br>	at psdi.mbo.MaximoDD.init(MaximoDD.java:244)<br>	at psdi.mbo.MaximoDD.reload(MaximoDD.java:282)<br>	at psdi.mbo.MaximoDDFactory.getCache(MaximoDDFactory.java:167)<br>	at psdi.mbo.MaximoDDFactory.init(MaximoDDFactory.java:66)<br>	at psdi.server.MXServer.boot(MXServer.java:1320)<br>	at psdi.server.MXServer.start(MXServer.java:3413)<br>	at psdi.servlet.MAXIMOStartupServlet.init(MAXIMOStartupServlet.java:70)<br>	at weblogic.servlet.internal.StubSecurityHelper$ServletInitAction.run(StubSecurityHelper.java:337)<br>	at weblogic.servlet.internal.StubSecurityHelper$ServletInitAction.run(StubSecurityHelper.java:288)<br>	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)<br>	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)<br>	at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:57)<br>	at weblogic.servlet.internal.StubSecurityHelper.initServletInstance(StubSecurityHelper.java:98)<br>	at weblogic.servlet.internal.StubSecurityHelper.createServlet(StubSecurityHelper.java:86)<br>	at weblogic.servlet.internal.StubLifecycleHelper.createOneInstance(StubLifecycleHelper.java:71)<br>	at weblogic.servlet.internal.StubLifecycleHelper.&lt;init&gt;(StubLifecycleHelper.java:57)<br>	at weblogic.servlet.internal.StubLifecycleHelper.&lt;init&gt;(StubLifecycleHelper.java:31)<br>	at weblogic.servlet.internal.ServletStubImpl.initStubLifecycleHelper(ServletStubImpl.java:660)<br>	at weblogic.servlet.internal.ServletStubImpl.prepareServlet(ServletStubImpl.java:600)<br>	at weblogic.servlet.internal.WebAppServletContext.preloadServlet(WebAppServletContext.java:1979)<br>	at weblogic.servlet.internal.WebAppServletContext.loadServletsOnStartup(WebAppServletContext.java:1956)<br>	at weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1846)<br>	at weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:2876)<br>	at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1661)<br>	at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:823)<br>	at weblogic.application.internal.ExtensibleModuleWrapper$StartStateChange.next(ExtensibleModuleWrapper.java:360)<br>	at weblogic.application.internal.ExtensibleModuleWrapper$StartStateChange.next(ExtensibleModuleWrapper.java:356)<br>	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)<br>	at weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:138)<br>	at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)<br>	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:216)<br>	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:211)<br>	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)<br>	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:73)<br>	at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:24)<br>	at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:729)<br>	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)<br>	at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:258)<br>	at weblogic.application.internal.EarDeployment.activate(EarDeployment.java:61)<br>	at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)<br>	at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:80)<br>	at weblogic.deploy.internal.targetserver.BasicDeployment.activate(BasicDeployment.java:226)<br>	at weblogic.deploy.internal.targetserver.BasicDeployment.activateFromServerLifecycle(BasicDeployment.java:418)<br>	at weblogic.management.deploy.internal.DeploymentAdapter$1.doActivate(DeploymentAdapter.java:51)<br>	at weblogic.management.deploy.internal.DeploymentAdapter.activate(DeploymentAdapter.java:200)<br>	at weblogic.management.deploy.internal.AppTransition$2.transitionApp(AppTransition.java:30)<br>	at weblogic.management.deploy.internal.ConfiguredDeployments.transitionApps(ConfiguredDeployments.java:240)<br>	at weblogic.management.deploy.internal.ConfiguredDeployments.activate(ConfiguredDeployments.java:169)<br>	at weblogic.management.deploy.internal.ConfiguredDeployments.deploy(ConfiguredDeployments.java:123)<br>	at weblogic.management.deploy.internal.DeploymentServerService.resume(DeploymentServerService.java:210)<br>	at weblogic.management.deploy.internal.DeploymentServerService.start(DeploymentServerService.java:118)<br>	at weblogic.server.AbstractServerService.postConstruct(AbstractServerService.java:78)<br>	at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)<br>	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)<br>	at java.lang.reflect.Method.invoke(Method.java:606)<br>	at org.glassfish.hk2.utilities.reflection.ReflectionHelper.invoke(ReflectionHelper.java:1017)<br>	at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:388)<br>	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:430)<br>	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:456)<br>	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:225)<br>	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:82)<br>	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2488)<br>	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:98)<br>	at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:606)<br>	at org.jvnet.hk2.internal.ThreeThirtyResolver.resolve(ThreeThirtyResolver.java:77)<br>	at org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:231)<br>	at org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:254)<br>	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:413)<br>	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:456)<br>	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:225)<br>	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:82)<br>	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2488)<br>	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:98)<br>	at org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:606)<br>	at org.jvnet.hk2.internal.ThreeThirtyResolver.resolve(ThreeThirtyResolver.java:77)<br>	at org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:231)<br>	at org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:254)<br>	at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:413)<br>	at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:456)<br>	at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:225)<br>	at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:82)<br>	at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2488)<br>	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:98)<br>	at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:87)<br>	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1162)<br>	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1147)<br>	at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$UpOneLevel.run(CurrentTaskFuture.java:753)<br>	at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:548)<br>	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:311)<br>	at weblogic.work.ExecuteThread.run(ExecuteThread.java:263)<br>Caused by: java.lang.NullPointerException<br>	at psdi.mbo.MaximoDD.getTablesFromHierarchyList(MaximoDD.java:1666)<br>	at psdi.mbo.MaximoDD.loadMboSetsInfo(MaximoDD.java:1334)<br>	at psdi.mbo.MaximoDD.loadMboSetsInfo(MaximoDD.java:1148)<br>	at psdi.mbo.MaximoDD.loadDataDictionary(MaximoDD.java:635)<br>	at psdi.mbo.MaximoDD.init(MaximoDD.java:234)<br>	... 89 more</p></pre><br></div></div>
	</div>
</div>
</body>
</html>