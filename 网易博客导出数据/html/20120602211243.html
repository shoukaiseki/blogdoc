<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>蒋カイセキ 的博客</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">蒋カイセキ 的博客</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">Fedora 17升级后grub2菜单无Fedora选项</h2>
	<h5 id="">2012-06-02 21:12:43&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/shoukaiseki/blog/static/1928561492012528308666/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;">看着大家都升级到17了,听了心里痒痒,升级一下吧<br>就用了几个命令,可以网速不给力,老升级错误,yum clean all了好多次<br><pre class="prettyprint"  ><pre>yum update rpm yum -y update yum clean all</pre><pre>yum install preupgrade preupgrade -cli</pre></pre>安装包下载完之后重启吧,重启看他进行升级了,那么先去睡觉吧.第二天醒来,O,挺好,F17了.都说启动速度超快,咋也得重启看下,不料,<br>halt --reboot之后,grub2尽然没有Fedora菜单,只剩下个Win XP的.唉,只能手动了<br>在这个win7菜单下按e进入编辑模式<br><pre class="prettyprint"  ><p>  insmod ext4<br>  set root='hd0,msdos3'<br>  linux /boot/vmlinuz-3.3.7-1.fc17.i686.PAE root=UUID=/dev/sda3 1<br>  initrd /boot/initramfs-3.3.7-1.fc17.i686.PAE.img<br></p></pre>进入单用户模式后<br><pre class="prettyprint"  ><p>grub2-mkconfig -o /boot/grub2/grub.cfg</p><p>shutdown -r now<br></p></pre>重启之后菜单如下<br><pre class="prettyprint"  ><p>Fedora Linux<br>Advanced options for Fedora Linux<br>Windows XP <br></p></pre>然后Fedora Linux采用的是debug模式<br>而Advanced options for Fedora Linux又是一个submenu菜单,子菜单如下<br><pre class="prettyprint"  ><p>Fedora Linux，Linux 3.3.7-1.fc17.i686.debug<br>Fedora Linux，Linux 3.3.7-1.fc17.i686.debug (恢复模式)<br>Fedora Linux，Linux 3.3.7-1.fc17.i686.PAEdebug<br>Fedora Linux，Linux 3.3.7-1.fc17.i686.PAEdebug (恢复模式)<br>Fedora Linux，Linux 3.3.7-1.fc17.i686.PAE<br>Fedora Linux，Linux 3.3.7-1.fc17.i686.PAE (恢复模式)<br>Fedora Linux，Linux 3.3.7-1.fc17.i686<br>Fedora Linux，Linux 3.3.7-1.fc17.i686 (恢复模式)<br></p></pre>又该更改默认启动项了<br><pre class="prettyprint"  ><p>grub2-set-default Fedora Linux，Linux 3.3.7-1.fc17.i686.PAE </p></pre>重启后没效果,因为主菜单没有Fedora Linux，Linux 3.3.7-1.fc17.i686.PAE菜单.<br>后来百度了以下,菜单<br><pre class="prettyprint"  ><p>grub2-set-default "1&gt;Fedora Linux，Linux 3.3.7-1.fc17.i686.PAE"<br></p></pre>这里的1&gt;代表第二个主菜单,就是刚开机时显示在grub的第二项,从0开始.</div>
	</div>
</div>
</body>
</html>