<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>蒋カイセキ 的博客</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">蒋カイセキ 的博客</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">用Java Swing图形化界面来对数据库操作（增，删，查，改）</h2>
	<h5 id="">2011-09-07 16:54:47&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/shoukaiseki/blog/static/19285614920118745447672/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><span style="font-family: 'MS PGothic'; line-height: normal; font-size: medium;"  ><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: initial initial; background-repeat: initial initial;"  >查看数据库配置方法<br><a target="_blank" rel="nofollow" href="http://hi.baidu.com/jiangxinyi21/blog/item/727ab287f60533e1503d92e2.html?timeStamp=1315385401523"  >http://hi.baidu.com/jiangxinyi21/blog/item/727ab287f60533e1503d92e2.html?timeStamp=1315385401523</a><br><br><br>import java.awt.event.ActionEvent;<br>import java.awt.event.ActionListener;<br>import java.sql.*;<br>import java.awt.*;<br>import javax.swing.*;<br>/*<br>* 实例：用Java Swing图形化界面来对数据库操作（增，删，查，改）<br>数据库版本：SQLServer2000<br>数据库名：dxaw<br>用户名：sa<br>密码：<br>表名：bankAccount<br>表结构：id(int[自动增长]),ownerName(varchar),accountValue(varchar),accountLevel(varchar)<br><br>列名<br>数据类型<br>长度<br>允许空<br><br>accountID<br>int<br>4<br>不可空<br>标示:不用于复制;标示种子:1;表示增量:1;<br>ownerName<br>varchar<br>50<br>可空<br>accountValue<br>varchar<br>50<br>可空<br>accountLevel<br>varchar<br>50<br>可空<br><br>赵 钱 孙 李<br>周 吴 郑 王<br>冯 陈 褚 卫<br>蒋 沈 韩 杨<br>程序代码：<br>*/<br>public class sqldata extends JFrame implements ActionListener{<br><br>JButton add,select,del,update;<br>&nbsp; &nbsp; JTable table;<br>&nbsp; &nbsp; Object body[][]=new Object[50][4];<br>&nbsp; &nbsp; String title[]={"编号","姓名","分数","级别"};<br>&nbsp; &nbsp; Connection conn;<br>&nbsp; &nbsp; Statement stat;<br>&nbsp; &nbsp; ResultSet rs;<br>&nbsp; &nbsp; JTabbedPane tp;<br>&nbsp; &nbsp; public sqldata() {<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;super("数据库操作");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;this.setSize(400,300);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;this.setLocation(300,200);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;JPanel ps=new JPanel();<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;add=new JButton("添加");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;select=new JButton("显示");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;update=new JButton("更改");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;del=new JButton("删除");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;add.addActionListener(this);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;select.addActionListener(this);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;update.addActionListener(this);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;del.addActionListener(this);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;ps.add(add);ps.add(select);ps.add(update);ps.add(del);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;table=new JTable(body,title);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;tp=new JTabbedPane();<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;tp.add("bankAccount表",new JScrollPane(table));<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;this.getContentPane().add(tp,"Center");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;this.getContentPane().add(ps,"South");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;this.setVisible(true);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;this.connection();<br><br><br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; public void connection(){<br>&nbsp; &nbsp; try {<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;Class.forName("com.microsoft.jdbc.sqlserver.SQLServerDriver");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;String url="jdbc:microsoft:sqlserver://127.0.0.1:1433;DatabaseName=dxaw";<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;conn=DriverManager.getConnection(url,"sa","");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;stat = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,<br>ResultSet.CONCUR_READ_ONLY);<br>&nbsp; &nbsp; } catch (Exception ex) {<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; public static void main(String[] args) {<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;sqldata data = new sqldata();<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public void actionPerformed(ActionEvent e) {<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;if(e.getSource()==add)<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;{adddata();}<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;if(e.getSource()==select)<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;{select();}<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;if(e.getSource()==update)<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;{updata();}<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;if(e.getSource()==del)<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;{del();}<br>&nbsp; &nbsp; }<br><br><br>&nbsp; &nbsp; public void del() {<br>&nbsp; &nbsp; try {<br><br>&nbsp; &nbsp; int row=table.getSelectedRow();<br>&nbsp; &nbsp; stat.executeUpdate("delete bankAccount where accountID='"+body[row][0]+"'");<br>&nbsp; &nbsp; JOptionPane.showMessageDialog(null,"数据已成功删除");<br>&nbsp; &nbsp;&nbsp; &nbsp; this.select();<br>&nbsp; &nbsp; } catch (SQLException ex) {<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;}<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public void updata() {<br>&nbsp; &nbsp; try {<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;int row=table.getSelectedRow();<br><br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;JTextField t[]=new JTextField[6];<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[0]=new JTextField("输入姓名:");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[0].setEditable(false);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[1]=new JTextField();<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[2]=new JTextField("输入分数:");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[2].setEditable(false);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[3]=new JTextField();<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[4]=new JTextField("输入级别:");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[4].setEditable(false);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[5]=new JTextField();<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;String but[]={"确定","取消"};<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;int go=JOptionPane.showOptionDialog(<br>null,t,"插入信息",JOptionPane.YES_OPTION,<br>JOptionPane.INFORMATION_MESSAGE,null,but,but[0]);<br>&nbsp; &nbsp;if(go==0){<br>&nbsp; &nbsp;//String ownerName=new String(t[1].getText().getBytes("ISO-8859-1"),"GBK");//数据库设为中文编码取消此句<br>&nbsp; &nbsp;String ownerName=new String(t[1].getText());//数据库设为中文编码采用此句<br>&nbsp; &nbsp;String accountValue=t[3].getText();<br>&nbsp; &nbsp;int accountLevel=Integer.parseInt(t[5].getText());<br>&nbsp; &nbsp;stat.executeUpdate("update bankAccount set ownerName='"<br>&nbsp; &nbsp;+ownerName+"',accountValue='"+accountValue+"',accountLevel='"<br><br>&nbsp; &nbsp;+accountLevel+"' where accountID='"+body[row][0]+"'");<br>&nbsp; &nbsp;JOptionPane.showMessageDialog(null,"修改数据成功");<br>&nbsp; &nbsp; this.select();<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp;&nbsp;&nbsp;} catch (Exception ex) {<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public void select() {<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;try {<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;for(int x=0;x&lt;body.length;x++){<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;body[x][0]=null;<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;body[x][1]=null;<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;body[x][2]=null;<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;body[x][3]=null;<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;}<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;int i=0;<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;rs=stat.executeQuery("select * from bankAccount");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;while(rs.next()){<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;body<i>[0]=rs.getInt(1);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;body<i>[1]=rs.getString(2);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;body<i>[2]=rs.getString(3);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;body<i>[3]=rs.getInt(4);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;i=i+1;<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;}<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;this.repaint();<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;} catch (SQLException ex) {<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;}&nbsp;<br><br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; private void adddata() {<br><br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;try {<br><br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;JTextField t[]=new JTextField[6];<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[0]=new JTextField("输入姓名:");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[0].setEditable(false);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[1]=new JTextField();<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[2]=new JTextField("输入分数:");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[2].setEditable(false);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[3]=new JTextField();<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[4]=new JTextField("输入级别:");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[4].setEditable(false);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;t[5]=new JTextField();<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;String but[]={"确定","取消"};<br><br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;int go=JOptionPane.showOptionDialog(null,t,"插入信息",<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>JOptionPane.YES_OPTION,JOptionPane.INFORMATION_MESSAGE,null,but,but[0]);<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if(go==0){<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>try{<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>//String ownerName=new String(t[1].getText().getBytes("ISO-8859-1"),"GBK");//数据库设为中文编码取消此句<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>String ownerName=new String(t[1].getText());//数据库设为中文编码采用此句<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>String accountValue=t[3].getText();<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>int accountLevel=Integer.parseInt(t[5].getText());<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>stat.executeUpdate("insert into bankAccount(ownerName,accountValue,accountLevel) values('"<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>+ownerName+"','"+accountValue+"','"+accountLevel+"')");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>JOptionPane.showMessageDialog(null,"数据已成功插入！");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>}catch(Exception ee){<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>JOptionPane.showMessageDialog(null,"插入数据错误！");<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br>}&nbsp;<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;}<br><br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;}<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;catch (Exception ex) {}<br>&nbsp; &nbsp; }<br>}</i></i></i></i></div></span><wbr></div>
	</div>
</div>
</body>
</html>